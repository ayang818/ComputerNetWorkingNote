# RDT2.1和RDT2.2


## RDT2.0有什么缺陷
如果ACK/NAK消息发生了错误/被破坏会怎么样？

- 为ACK/NAK添加校验和，校验并纠错
- 发送方收到被破坏ACK/NAK时不知道1接收方发生了什么，添加额外的控制消息(控制消息仍然可能坏掉)
- 如果ACK/NAK坏掉，发送方重传(可能产生重复， 所以可以给每个分组增加序列号，接收方丢弃重复分组，仍然使用停-等)
- 不能简单地重传，产生重复分组

## RDT2.1，应对ACK/NAK破坏
- 解决ACK/NAK破坏，使用分组重传的机制
- 使用序列号（0，1）(采用的是平等协议)，来解决重传分组重复的问题。

## RDT2.2：无NAk消息协议
我们是否真的需要两种确认消息？

- 与RDT2.1功能相同，但是只使用ACK
- 如何实现
    - 接收方通过ACK告知最后一个被正确接受的分组
    - 在ACK消息中显示的加入被确认分组的序列号
- 发送方收到重复ACK后，采取与收到NAk消息相同的动作
    - 发送方重传当前分组

